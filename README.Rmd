---
output: github_document
---

<!-- README.md is generated from README.Rmd. Please edit that file -->

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>",
  fig.path = "man/figures/README-",
  out.width = "100%"
)
```

# varnames

<!-- badges: start -->
[![AppVeyor build status](https://ci.appveyor.com/api/projects/status/github/milanwiedemann/varnames?branch=master&svg=true)](https://ci.appveyor.com/project/milanwiedemann/varnames)
[![Travis build status](https://travis-ci.com/milanwiedemann/varnames.svg?branch=master)](https://travis-ci.com/milanwiedemann/varnames)
<!-- badges: end -->

The goal of `varnames` is to help with creating consistent variable names.
This has many advantages, even if no further calculations of the data are needed.

Consistent variable names are particularly helpful when managing larger datasets.
Below I some examples how consistent variable names help when combined with other useful tools like [Regular Expressions](https://stringr.tidyverse.org/articles/regular-expressions.html).  

## Installation

You can install the released version of varnames from [CRAN](https://CRAN.R-project.org) with:

``` r
install.packages("varnames")
```

And the development version from [GitHub](https://github.com/) with:

``` r
# install.packages("devtools")
devtools::install_github("milanwiedemann/varnames")
```
## Example

For most cases there might be a very simple solution in creating consistent variable names using the `paste()` function. 

```{r example-paste}
# Create vector of a measure with 3 time points (t)
paste("measure_", "t", 1:3, sep = "")
```
Sometimes more than one specification need to be added to a variable name.
Say something about "wide" data.
Allthough this is not the best way to store data [@Wickham2013](https://www.jstatsoft.org/article/view/v059i10), it is often how data looks like.
In the examples below I'm showing how data stored in these variable names can be transformend into "long" data.

Similar to the example above, the `create_var_names()` function creates a vector (or list) of consistent variable names.

```{r example-create}
library(varnames)
library(tidyverse)

# Create vector of a measure with 3 time points (t)
create_var_names(var_name = "measure", str = "t", n = 3)
```

The `add_specifier()` function adds a specifier, here "i" to the variables created in the step before.
A feature of this function is that variable names can be returend in different ways, depending on what output format is most suitable for further use.

The example below adds two indicators "i" for each time point "t" and returns a list that is sorted by the specifyer added created initially "t".

```{r example-add-1}
create_var_names(var_name = "measure", str = "t", n = 3) %>% 
  add_specifier(str = "i", n = 2, sort = "previous")
```
The output list can also be sorted according to the second specifyer that is added by using the argument `sort = "current"`.
Now a list with two elements gets returned, one for each indicator that was added.

```{r example-add-2}
create_var_names(var_name = "measure", str = "t", n = 3) %>% 
  add_specifier(str = "i", n = 2, sort = "current")
```
If the desired output is a vactor of all variables the argument `unlist = TRUE` can be used. 

```{r example-add-3}
create_var_names(var_name = "measure", str = "t", n = 3) %>% 
  add_specifier(str = "i", n = 2, sort = "current", unlist = TRUE)
```

The order of the vector can still be changed by the sort argument.

```{r example-add-4}
create_var_names(var_name = "measure", str = "t", n = 3) %>% 
  add_specifier(str = "i", n = 2, sort = "previous", unlist = TRUE)
```

## TODOS

- Add Why is this so useful? Show some examples, regular expressions automation etc
- Add rename functions
- Currently this only works when adding one specifyer, I think more would be cool, I might need help with this 
